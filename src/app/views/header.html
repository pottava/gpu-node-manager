<!DOCTYPE html>
<html>
  <head>
    <title>{{.title}}</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/public/css/bootstrap-3.3.6.min.css">
    <link rel="shortcut icon" type="image/png" href="/public/img/favicon.png">
    <script src="/public/js/jquery-2.2.4.min.js"></script>
    <script src="/public/js/bootstrap-3.3.6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.13.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.13.0/firebase-auth-compat.js"></script>
    <script src="/public/js/app/firebase.js"></script>
    <script src="/public/js/app/config.js"></script>
    <link rel="stylesheet" type="text/css" href="/public/css/app/common.css">
    {{range .styles}}
      <link rel="stylesheet" type="text/css" href="{{.}}">
    {{end}}
    {{range .scripts}}
      <script src="{{.}}" type="text/javascript" charset="utf-8"></script>
    {{end}}
    <script>
      window.authOkCallback = window.authOkCallback || function(token) {
      };
      window.authNgCallback = window.authNgCallback || function(error) {
        switch (location.pathname) {
          case '/': break;
          case '/login': break;
          default: location.href = '/';
        }
      };
      firebase.auth().onAuthStateChanged((user) => {
        if (user) {
          $('#sign-in').hide();
          $('.signedin').fadeIn();
          user.getIdToken(true).then(authOkCallback).catch(authNgCallback);
        } else {
          $('#sign-in').show();
          $('.signedin').hide();
          authNgCallback && authNgCallback();
        }
      });
    </script>
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  </head>
  <body>
